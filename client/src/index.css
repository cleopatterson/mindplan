@import "tailwindcss";

@media print {
  @page { size: landscape; }
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(4px); }
  to { opacity: 1; transform: translateY(0); }
}

/* ── PDF Export Light Mode ── */

[data-pdf-light] .react-flow {
  background: #ffffff !important;
}

[data-pdf-light] .react-flow__controls,
[data-pdf-light] .react-flow__minimap,
[data-pdf-light] .react-flow__background {
  display: none !important;
}

[data-pdf-light] .react-flow__handle {
  opacity: 0 !important;
}

[data-pdf-light] .react-flow__edge path {
  stroke: #94a3b8 !important;
  stroke-width: 1.5px !important;
}

[data-pdf-light] .react-flow__edge.animated path {
  animation: none !important;
  stroke-dasharray: none !important;
}

/* Family node — already light, just sharpen border */
[data-pdf-light] .react-flow__node-familyNode > div {
  border-color: #cbd5e1 !important;
  box-shadow: 0 1px 4px rgba(0,0,0,0.12) !important;
}

/* Client nodes — remove blur, crisp shadow */
[data-pdf-light] .react-flow__node-clientNode > div {
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  box-shadow: 0 1px 4px rgba(0,0,0,0.15) !important;
}

/* Entity nodes — remove blur */
[data-pdf-light] .react-flow__node-entityNode > div {
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  box-shadow: 0 1px 4px rgba(0,0,0,0.12) !important;
}

/* Asset nodes — solid light background with dark text */
[data-pdf-light] .react-flow__node-assetNode > div {
  background: #f1f5f9 !important;
  border-color: #cbd5e1 !important;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  box-shadow: 0 1px 3px rgba(0,0,0,0.08) !important;
}
[data-pdf-light] .react-flow__node-assetNode > div,
[data-pdf-light] .react-flow__node-assetNode > div * {
  color: #334155 !important;
}

/* Liability nodes — solid light red background with dark red text */
[data-pdf-light] .react-flow__node-liabilityNode > div {
  background: #fef2f2 !important;
  border-color: #fecaca !important;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  box-shadow: 0 1px 3px rgba(0,0,0,0.08) !important;
}
[data-pdf-light] .react-flow__node-liabilityNode > div,
[data-pdf-light] .react-flow__node-liabilityNode > div * {
  color: #991b1b !important;
}

/* Goal nodes — solid teal-tinted background */
[data-pdf-light] .react-flow__node-goalNode > div {
  background: #f0fdfa !important;
  border-color: #99f6e4 !important;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  box-shadow: 0 1px 3px rgba(0,0,0,0.08) !important;
}
[data-pdf-light] .react-flow__node-goalNode > div,
[data-pdf-light] .react-flow__node-goalNode > div * {
  color: #134e4a !important;
}

/* Relationship nodes — solid rose-tinted background */
[data-pdf-light] .react-flow__node-relationshipNode > div {
  background: #fff1f2 !important;
  border-color: #fecdd3 !important;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  box-shadow: 0 1px 3px rgba(0,0,0,0.08) !important;
}
[data-pdf-light] .react-flow__node-relationshipNode > div,
[data-pdf-light] .react-flow__node-relationshipNode > div * {
  color: #881337 !important;
}

/* ── Live Light Mode ── */

/* Shared node overrides for both PDF and live light mode */
:is([data-pdf-light], [data-theme="light"]) .react-flow__node-familyNode > div {
  background: white !important;
  color: #1e293b !important;
}

/* Live-only: edges use lighter strokes (don't hide controls/minimap like PDF) */
[data-theme="light"] .react-flow__edge path {
  stroke: #94a3b8 !important;
}

/* Node overrides — mirrors PDF rules plus estate/family nodes */
[data-theme="light"] .react-flow__node-familyNode > div {
  border-color: #cbd5e1 !important;
  box-shadow: 0 1px 4px rgba(0,0,0,0.12) !important;
  background: white !important;
  color: #1e293b !important;
}

[data-theme="light"] .react-flow__node-clientNode > div {
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  box-shadow: 0 1px 4px rgba(0,0,0,0.15) !important;
}

[data-theme="light"] .react-flow__node-entityNode > div {
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  box-shadow: 0 1px 4px rgba(0,0,0,0.12) !important;
}

[data-theme="light"] .react-flow__node-assetNode > div {
  background: white !important;
  border-color: #94a3b8 !important;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  box-shadow: 0 1px 4px rgba(0,0,0,0.12) !important;
}
[data-theme="light"] .react-flow__node-assetNode > div,
[data-theme="light"] .react-flow__node-assetNode > div * {
  color: #1e293b !important;
}

[data-theme="light"] .react-flow__node-liabilityNode > div {
  background: white !important;
  border-color: #f87171 !important;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  box-shadow: 0 1px 4px rgba(0,0,0,0.12) !important;
}
[data-theme="light"] .react-flow__node-liabilityNode > div,
[data-theme="light"] .react-flow__node-liabilityNode > div * {
  color: #b91c1c !important;
}

[data-theme="light"] .react-flow__node-estateGroupNode > div {
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  box-shadow: 0 1px 4px rgba(0,0,0,0.12) !important;
}

[data-theme="light"] .react-flow__node-estateClientNode > div {
  background: white !important;
  border-color: #818cf8 !important;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  box-shadow: 0 1px 4px rgba(0,0,0,0.12) !important;
}
[data-theme="light"] .react-flow__node-estateClientNode > div,
[data-theme="light"] .react-flow__node-estateClientNode > div * {
  color: #312e81 !important;
}

[data-theme="light"] .react-flow__node-estateItemNode > div {
  background: white !important;
  border-color: #818cf8 !important;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  box-shadow: 0 1px 4px rgba(0,0,0,0.12) !important;
}
[data-theme="light"] .react-flow__node-estateItemNode > div,
[data-theme="light"] .react-flow__node-estateItemNode > div * {
  color: #312e81 !important;
}

[data-theme="light"] .react-flow__node-familyGroupNode > div {
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  box-shadow: 0 1px 4px rgba(0,0,0,0.12) !important;
}

[data-theme="light"] .react-flow__node-familyMemberNode > div {
  background: white !important;
  border-color: #f59e0b !important;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  box-shadow: 0 1px 4px rgba(0,0,0,0.12) !important;
}
[data-theme="light"] .react-flow__node-familyMemberNode > div,
[data-theme="light"] .react-flow__node-familyMemberNode > div * {
  color: #78350f !important;
}

[data-theme="light"] .react-flow__node-goalsGroupNode > div {
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  box-shadow: 0 1px 4px rgba(0,0,0,0.12) !important;
}

[data-theme="light"] .react-flow__node-goalNode > div {
  background: white !important;
  border-color: #14b8a6 !important;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  box-shadow: 0 1px 4px rgba(0,0,0,0.12) !important;
}
[data-theme="light"] .react-flow__node-goalNode > div,
[data-theme="light"] .react-flow__node-goalNode > div * {
  color: #134e4a !important;
}

[data-theme="light"] .react-flow__node-relationshipsGroupNode > div {
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  box-shadow: 0 1px 4px rgba(0,0,0,0.12) !important;
}

[data-theme="light"] .react-flow__node-relationshipNode > div {
  background: white !important;
  border-color: #f43f5e !important;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  box-shadow: 0 1px 4px rgba(0,0,0,0.12) !important;
}
[data-theme="light"] .react-flow__node-relationshipNode > div,
[data-theme="light"] .react-flow__node-relationshipNode > div * {
  color: #881337 !important;
}

/* ── Summary Bar light mode ── */

[data-theme="light"] .summary-bar {
  background: #f1f5f9 !important;
  border-color: #e2e8f0 !important;
}

[data-theme="light"] .summary-bar .summary-toggle {
  color: #6b7280 !important;
}
[data-theme="light"] .summary-bar .summary-toggle:hover {
  color: #374151 !important;
}

[data-theme="light"] .summary-card {
  background: white !important;
  border-color: #d1d5db !important;
  box-shadow: 0 1px 3px rgba(0,0,0,0.08), 0 1px 2px rgba(0,0,0,0.04) !important;
}
[data-theme="light"] .summary-card:hover {
  background: #f8fafc !important;
  border-color: #9ca3af !important;
  box-shadow: 0 4px 6px rgba(0,0,0,0.07), 0 2px 4px rgba(0,0,0,0.04) !important;
}
[data-theme="light"] .summary-card.card-active {
  background: #eff6ff !important;
  border-color: rgba(59,130,246,0.6) !important;
  box-shadow: 0 4px 6px rgba(59,130,246,0.1), 0 2px 4px rgba(59,130,246,0.06) !important;
}

[data-theme="light"] .summary-card .card-header {
  color: #6b7280 !important;
}
[data-theme="light"] .summary-card.card-active .card-header {
  color: #3b82f6 !important;
}
[data-theme="light"] .summary-card .card-detail {
  color: #6b7280 !important;
}
[data-theme="light"] .summary-card.card-active .card-detail {
  color: #4b5563 !important;
}

/* White text in summary card values → dark gray, but preserve semantic colors */
[data-theme="light"] .summary-card [class*="text-white/"] {
  color: #1f2937 !important;
}
[data-theme="light"] .summary-card [class*="text-emerald"] {
  color: #059669 !important;
}
[data-theme="light"] .summary-card [class*="text-red"] {
  color: #dc2626 !important;
}
[data-theme="light"] .summary-card [class*="text-amber"] {
  color: #d97706 !important;
}

/* ── Right Panel light mode ── */

[data-theme="light"] .right-panel {
  background: white !important;
  border-color: #e5e7eb !important;
}

[data-theme="light"] .right-panel .panel-header {
  border-color: #e5e7eb !important;
}

[data-theme="light"] .right-panel .panel-title {
  color: #111827 !important;
}

[data-theme="light"] .right-panel .panel-close {
  color: #9ca3af !important;
}
[data-theme="light"] .right-panel .panel-close:hover {
  color: #4b5563 !important;
}

/* Broad text color overrides for panel content */
[data-theme="light"] .panel-content [class*="text-white/9"],
[data-theme="light"] .panel-content [class*="text-white/8"] {
  color: #111827 !important;
}
[data-theme="light"] .panel-content [class*="text-white/7"],
[data-theme="light"] .panel-content [class*="text-white/6"],
[data-theme="light"] .panel-content [class*="text-white/5"] {
  color: #4b5563 !important;
}
[data-theme="light"] .panel-content [class*="text-white/4"],
[data-theme="light"] .panel-content [class*="text-white/3"] {
  color: #9ca3af !important;
}
[data-theme="light"] .panel-content [class*="text-white/2"],
[data-theme="light"] .panel-content [class*="text-white/1"] {
  color: #d1d5db !important;
}

/* Section backgrounds and borders in panel */
[data-theme="light"] .panel-content [class*="bg-white/"] {
  background: #f9fafb !important;
}
[data-theme="light"] .panel-content [class*="border-white/"] {
  border-color: #e5e7eb !important;
}

/* Input fields in panel */
[data-theme="light"] .panel-content input {
  background: #f3f4f6 !important;
  border-color: #d1d5db !important;
  color: #374151 !important;
}
[data-theme="light"] .panel-content input::placeholder {
  color: #9ca3af !important;
}

/* HeroBanner heading stays readable */
[data-theme="light"] .panel-content h4 {
  color: #111827 !important;
}

/* ── Panel color overrides — darken light-on-dark colors for white bg ── */

/* Amber/yellow → darker amber (family, dependant pills, "Not provided") */
[data-theme="light"] .panel-content [class*="text-amber-3"],
[data-theme="light"] .panel-content [class*="text-amber-4"] {
  color: #b45309 !important;
}
[data-theme="light"] .panel-content [class*="text-yellow-3"],
[data-theme="light"] .panel-content [class*="text-yellow-4"] {
  color: #a16207 !important;
}

/* Orange → darker orange (super, SMSF) */
[data-theme="light"] .panel-content [class*="text-orange-3"],
[data-theme="light"] .panel-content [class*="text-orange-4"] {
  color: #c2410c !important;
}

/* Emerald/green → darker green */
[data-theme="light"] .panel-content [class*="text-emerald-3"],
[data-theme="light"] .panel-content [class*="text-emerald-4"] {
  color: #059669 !important;
}

/* Blue → slightly darker blue */
[data-theme="light"] .panel-content [class*="text-blue-3"],
[data-theme="light"] .panel-content [class*="text-blue-4"] {
  color: #2563eb !important;
}

/* Red → keep strong */
[data-theme="light"] .panel-content [class*="text-red-3"],
[data-theme="light"] .panel-content [class*="text-red-4"] {
  color: #dc2626 !important;
}

/* Purple → darker purple */
[data-theme="light"] .panel-content [class*="text-purple-3"],
[data-theme="light"] .panel-content [class*="text-purple-4"] {
  color: #7c3aed !important;
}

/* Indigo → darker indigo */
[data-theme="light"] .panel-content [class*="text-indigo-3"],
[data-theme="light"] .panel-content [class*="text-indigo-4"] {
  color: #4338ca !important;
}

/* Cyan/teal */
[data-theme="light"] .panel-content [class*="text-cyan-3"],
[data-theme="light"] .panel-content [class*="text-cyan-4"] {
  color: #0891b2 !important;
}
[data-theme="light"] .panel-content [class*="text-teal-3"],
[data-theme="light"] .panel-content [class*="text-teal-4"] {
  color: #0d9488 !important;
}

/* Slate/gray icons */
[data-theme="light"] .panel-content [class*="text-slate-3"],
[data-theme="light"] .panel-content [class*="text-slate-4"] {
  color: #475569 !important;
}

/* Rose → darker rose */
[data-theme="light"] .panel-content [class*="text-rose-3"],
[data-theme="light"] .panel-content [class*="text-rose-4"] {
  color: #e11d48 !important;
}

/* Insight pill backgrounds — lighten for white panel bg */
[data-theme="light"] .panel-content [class*="bg-amber-500/1"] {
  background: #fef3c7 !important;
}
[data-theme="light"] .panel-content [class*="bg-orange-500/1"] {
  background: #ffedd5 !important;
}
[data-theme="light"] .panel-content [class*="bg-blue-500/1"] {
  background: #dbeafe !important;
}
[data-theme="light"] .panel-content [class*="bg-emerald-500/1"] {
  background: #d1fae5 !important;
}
[data-theme="light"] .panel-content [class*="bg-red-500/1"] {
  background: #fee2e2 !important;
}
[data-theme="light"] .panel-content [class*="bg-purple-500/1"] {
  background: #ede9fe !important;
}
[data-theme="light"] .panel-content [class*="bg-teal-500/1"] {
  background: #ccfbf1 !important;
}
[data-theme="light"] .panel-content [class*="bg-rose-500/1"] {
  background: #ffe4e6 !important;
}

/* Pill borders — stronger in light mode */
[data-theme="light"] .panel-content [class*="border-amber-500/"] {
  border-color: #fbbf24 !important;
}
[data-theme="light"] .panel-content [class*="border-orange-500/"] {
  border-color: #fb923c !important;
}
[data-theme="light"] .panel-content [class*="border-blue-500/"] {
  border-color: #93c5fd !important;
}
[data-theme="light"] .panel-content [class*="border-emerald-500/"] {
  border-color: #6ee7b7 !important;
}
[data-theme="light"] .panel-content [class*="border-red-500/"] {
  border-color: #fca5a5 !important;
}
[data-theme="light"] .panel-content [class*="border-purple-500/"] {
  border-color: #c4b5fd !important;
}
[data-theme="light"] .panel-content [class*="border-teal-500/"] {
  border-color: #5eead4 !important;
}
[data-theme="light"] .panel-content [class*="border-rose-500/"] {
  border-color: #fda4af !important;
}

/* HeroBanner gradient backgrounds — lighter for white panel */
[data-theme="light"] .panel-content [class*="bg-gradient-to-br"] {
  background: #f8fafc !important;
}

/* Progress bars in detail cards */
[data-theme="light"] .panel-content [class*="bg-white/5"] {
  background: #e5e7eb !important;
}

/* Floating badges light mode */
[data-theme="light"] .gaps-badge {
  background: white !important;
  border-color: #d1d5db !important;
  color: #b45309 !important;
  box-shadow: 0 1px 4px rgba(0,0,0,0.1) !important;
}

[data-theme="light"] .insights-badge {
  background: #eff6ff !important;
  border-color: #93c5fd !important;
  color: #1d4ed8 !important;
}
[data-theme="light"] .insights-badge.badge-active {
  background: #dbeafe !important;
  border-color: #60a5fa !important;
  color: #1e40af !important;
}
